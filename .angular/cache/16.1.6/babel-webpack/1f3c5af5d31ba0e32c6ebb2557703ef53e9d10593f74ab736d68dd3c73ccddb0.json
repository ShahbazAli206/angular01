{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let ProductListComponent = class ProductListComponent {\n  constructor(route, dataService, http, localStorageService) {\n    this.route = route;\n    this.dataService = dataService;\n    this.http = http;\n    this.localStorageService = localStorageService;\n    this.products = [];\n    this.displayedCards = [];\n    this.currentPage = 1;\n    this.pageSize = 3;\n  }\n  onCardClick(card) {\n    this.localStorageService.addCard(card);\n  }\n  onClearLocalStorageClick() {\n    this.localStorageService.clearStoredCards();\n  }\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      this.cardId = +params['id'];\n    });\n    this.fetchproducts();\n  }\n  get hasNextPage() {\n    return this.currentPage * this.pageSize < this.products.length;\n  }\n  fetchproducts() {\n    console.log('the clicked category id is : ', this.cardId);\n    this.dataService.getProducts(this.cardId).subscribe(data => {\n      this.products = data;\n      console.log('the products is : ', this.products);\n      this.updateDisplayedCards();\n    }, error => {\n      console.error('Error fetching data:', error);\n    });\n  }\n  showNextPage() {\n    this.currentPage++;\n    this.updateDisplayedCards();\n  }\n  updateDisplayedCards() {\n    const startIndex = (this.currentPage - 1) * this.pageSize;\n    const endIndex = startIndex + this.pageSize;\n    console.log('the products for using slice is this : ', this.products);\n    this.displayedCards = this.products.slice(startIndex, endIndex);\n    console.log('the displayedCards, after slice is : ', this.displayedCards);\n  }\n};\nProductListComponent = __decorate([Component({\n  selector: 'app-product-list',\n  templateUrl: './product-list.component.html',\n  styleUrls: ['./product-list.component.css']\n})], ProductListComponent);","map":{"version":3,"names":["Component","ProductListComponent","constructor","route","dataService","http","localStorageService","products","displayedCards","currentPage","pageSize","onCardClick","card","addCard","onClearLocalStorageClick","clearStoredCards","ngOnInit","params","subscribe","cardId","fetchproducts","hasNextPage","length","console","log","getProducts","data","updateDisplayedCards","error","showNextPage","startIndex","endIndex","slice","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Laptop Wala\\Desktop\\Anguler Projects\\myApp\\src\\app\\components\\product-list\\product-list.component.ts"],"sourcesContent":["import { Component , OnInit } from '@angular/core';\nimport { HttpClient, HttpParams  } from '@angular/common/http';\nimport { map } from 'rxjs/operators';\nimport { LocalStorageService } from '../../services/local-storage-service.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { ProductsService } from 'src/app/services/products.service';\n\n\ninterface Card {\n  id: number;\n  name: string;\n  image: string;\n  // Add other properties as needed\n}\n@Component({\n  selector: 'app-product-list',\n  templateUrl: './product-list.component.html',\n  styleUrls: ['./product-list.component.css']\n})\nexport class ProductListComponent implements OnInit {\n\n  products: any[] = [];\n  displayedCards: any[] = [];\n  currentPage = 1;\n  pageSize = 3;\n\n\n\n  private cardId!: number; \n  constructor(private route: ActivatedRoute, private dataService: ProductsService, private http: HttpClient, private localStorageService: LocalStorageService) {}\n \n \n  onCardClick(card: any) {\n    this.localStorageService.addCard(card);\n  }\n \n  onClearLocalStorageClick() {\n    this.localStorageService.clearStoredCards();\n  }\n\n\n  \n  ngOnInit(): void {\n    this.route.params.subscribe(params => {\n    this.cardId = +params['id'];\n    });\n    this.fetchproducts();\n    \n\n  }\n\n  \n  get hasNextPage() {\n    return (this.currentPage * this.pageSize) < this.products.length;\n  }\n\n  fetchproducts(): void {\n    console.log('the clicked category id is : ', this.cardId);\n    \n    this.dataService.getProducts(this.cardId).subscribe(\n      (data) => {\n        this.products = data;\n        console.log('the products is : ', this.products); \n        this.updateDisplayedCards();\n        \n      },\n      (error) => {\n        console.error('Error fetching data:', error);\n      }\n      );\n      \n      \n    }\n    \n    showNextPage() {\n      this.currentPage++;\n      this.updateDisplayedCards();\n    }\n    \n    \n    updateDisplayedCards() {\n      const startIndex = (this.currentPage - 1) * this.pageSize;\n      const endIndex = startIndex + this.pageSize;\n      \n      console.log('the products for using slice is this : ', this.products); \n      \n      this.displayedCards = this.products.slice(startIndex, endIndex);\n      \n      console.log('the displayedCards, after slice is : ', this.displayedCards);\n    }\n\n  }\n  "],"mappings":";AAAA,SAASA,SAAS,QAAiB,eAAe;AAmB3C,WAAMC,oBAAoB,GAA1B,MAAMA,oBAAoB;EAU/BC,YAAoBC,KAAqB,EAAUC,WAA4B,EAAUC,IAAgB,EAAUC,mBAAwC;IAAvI,KAAAH,KAAK,GAALA,KAAK;IAA0B,KAAAC,WAAW,GAAXA,WAAW;IAA2B,KAAAC,IAAI,GAAJA,IAAI;IAAsB,KAAAC,mBAAmB,GAAnBA,mBAAmB;IARtI,KAAAC,QAAQ,GAAU,EAAE;IACpB,KAAAC,cAAc,GAAU,EAAE;IAC1B,KAAAC,WAAW,GAAG,CAAC;IACf,KAAAC,QAAQ,GAAG,CAAC;EAKkJ;EAG9JC,WAAWA,CAACC,IAAS;IACnB,IAAI,CAACN,mBAAmB,CAACO,OAAO,CAACD,IAAI,CAAC;EACxC;EAEAE,wBAAwBA,CAAA;IACtB,IAAI,CAACR,mBAAmB,CAACS,gBAAgB,EAAE;EAC7C;EAIAC,QAAQA,CAAA;IACN,IAAI,CAACb,KAAK,CAACc,MAAM,CAACC,SAAS,CAACD,MAAM,IAAG;MACrC,IAAI,CAACE,MAAM,GAAG,CAACF,MAAM,CAAC,IAAI,CAAC;IAC3B,CAAC,CAAC;IACF,IAAI,CAACG,aAAa,EAAE;EAGtB;EAGA,IAAIC,WAAWA,CAAA;IACb,OAAQ,IAAI,CAACZ,WAAW,GAAG,IAAI,CAACC,QAAQ,GAAI,IAAI,CAACH,QAAQ,CAACe,MAAM;EAClE;EAEAF,aAAaA,CAAA;IACXG,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAE,IAAI,CAACL,MAAM,CAAC;IAEzD,IAAI,CAACf,WAAW,CAACqB,WAAW,CAAC,IAAI,CAACN,MAAM,CAAC,CAACD,SAAS,CAChDQ,IAAI,IAAI;MACP,IAAI,CAACnB,QAAQ,GAAGmB,IAAI;MACpBH,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAE,IAAI,CAACjB,QAAQ,CAAC;MAChD,IAAI,CAACoB,oBAAoB,EAAE;IAE7B,CAAC,EACAC,KAAK,IAAI;MACRL,OAAO,CAACK,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC9C,CAAC,CACA;EAGH;EAEAC,YAAYA,CAAA;IACV,IAAI,CAACpB,WAAW,EAAE;IAClB,IAAI,CAACkB,oBAAoB,EAAE;EAC7B;EAGAA,oBAAoBA,CAAA;IAClB,MAAMG,UAAU,GAAG,CAAC,IAAI,CAACrB,WAAW,GAAG,CAAC,IAAI,IAAI,CAACC,QAAQ;IACzD,MAAMqB,QAAQ,GAAGD,UAAU,GAAG,IAAI,CAACpB,QAAQ;IAE3Ca,OAAO,CAACC,GAAG,CAAC,yCAAyC,EAAE,IAAI,CAACjB,QAAQ,CAAC;IAErE,IAAI,CAACC,cAAc,GAAG,IAAI,CAACD,QAAQ,CAACyB,KAAK,CAACF,UAAU,EAAEC,QAAQ,CAAC;IAE/DR,OAAO,CAACC,GAAG,CAAC,uCAAuC,EAAE,IAAI,CAAChB,cAAc,CAAC;EAC3E;CAED;AAxEUP,oBAAoB,GAAAgC,UAAA,EALhCjC,SAAS,CAAC;EACTkC,QAAQ,EAAE,kBAAkB;EAC5BC,WAAW,EAAE,+BAA+B;EAC5CC,SAAS,EAAE,CAAC,8BAA8B;CAC3C,CAAC,C,EACWnC,oBAAoB,CAwE9B"},"metadata":{},"sourceType":"module","externalDependencies":[]}